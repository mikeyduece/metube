<button type="button" class='bmf-modalButton' data-toggle='modal' data-target='#modalPlaylist'>Play All</button>

<div class='container'>
  <div class='row'>
    <% @favorites.each_with_index do |video, index| %>
      <div class='col-sm-4 col-md-4 col-lg-4'>
        <div class='card'>

          <%= image_tag video.img_high, class: 'img-fluid' %>
          <div class='card-body'>
            <div>
              <h5 class='card-title text-center'><%= video.title %></h5>
              <button type="button" id="show" class="btn btn-custom pull-right" aria-label="Left Align">
                <i class="fa fa-ellipsis-v"></i>
              </button>
            </div>
            <p class='card-text text-center'></p>
            <!-- Trigger the modal with a button -->
            <span class="glyphicon glyphicon-play" data-toggle="modal" data-target="#myModal<%= index + 1 %>"></span>
            <%= link_to "", favorite_path(video.video_id), method: :delete, type: "delete", class: 'glyphicon glyphicon-remove-circle' %>


            <!-- Modal -->
            <div id="myModal<%= index + 1 %>"  data-id='<%= video.video_id %>'class="modal fade videoModal" role="dialog">
              <div class="modal-dialog">
                <!-- Modal content-->
                <div class="modal-content bmd-modalContent" >
                  <div class="modal-body modal-header">
                    <div class="close-button">
                      <button id='single' type="button" class="close fancybox-close" data-dismiss="modal" aria-label='Close' ><span aria-hidden="true">&times;</span></button>
                    </div>
                    <div class='embed-responsive embed-responsive-16by9'>
                      <iframe id='player' class='embed-responsive-item' src="https://youtube.com/embed/<%= video.video_id %>?rel=0&enablejsapi=1" allowFullScreen='true' frameborder="0"></iframe>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="card-reveal">
            <span class="card-title">Description</span> <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">Ã—</span></button>
            <p><%= video.description %></p>
          </div>
        </div>
      </div>
    <% end %>
  </div>
</div>

<div id="modalPlaylist"  data-id='playlist'class="modal fade" role="dialog">
  <div class="modal-dialog">
    <!-- Modal content-->
    <div class="modal-content bmd-modalContent" >
      <div class="modal-body">
        <div class="close-button">
          <button type="button" class="close" data-dismiss="modal" aria-label='Close' ><span aria-hidden="true">&times;</span></button>
        </div>
        <div class='embed-responsive embed-responsive-16by9'>
          <iframe class='embed-responsive-item' src="https://youtube.com/embed/<%= first_fav_vid %>?rel=0&playlist=<%= rest_of_favs %>&enablejsapi=1" allowFullScreen='true' frameborder="0"></iframe>
        </div>
      </div>
    </div>
  </div>
</div>
